function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("debug"),require("event-emitter")):"function"==typeof define&&define.amd?define(["debug","event-emitter"],t):e.transceiver=t(e.debug,e.EventEmitter)}(this,function(e,t){"use strict";var n=e("transceiver:channel"),r=function(){function r(i){_classCallCheck(this,r),n("Initializing channel "+i),this._name=i,this._requests={},this._emitter=new t,this._dbg=e("transceiver:channel:"+i)}return _createClass(r,[{key:"request",value:function(e){if(this._requests[e]){this._dbg("Calling '"+e+"' request handler");for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;t>r;r++)n[r-1]=arguments[r];return this._requests[e].callback.apply(this._requests[e].context,n)}this._dbg("Request '"+e+"' has no handler")}},{key:"reply",value:function(e,t,n){this._dbg("Creating new handler for request '"+e+"'"),this._requests[e]&&this._dbg("Request '"+e+"' handler will be overwritten"),this._requests[e]={callback:t,context:n||this}}},{key:"on",value:function(){this._emitter.on.apply(this._emitter,arguments)}},{key:"emit",value:function(){this._emitter.emit.apply(this._emitter,arguments)}},{key:"off",value:function(){this._emitter.off.apply(this._emitter,arguments)}}]),r}(),i=e("transceiver:main"),s=new(function(){function e(){_classCallCheck(this,e),i("Initializing transceiver"),this.channels={}}return _createClass(e,[{key:"channel",value:function(e){if(!e||"string"!=typeof e)throw new Error("Invalid or missing channel name");return this.channels[e]||new r(e)}}]),e}());return s});
//# sourceMappingURL=transceiver.min.js.map
